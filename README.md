# 启航电商ERP-SpringCloud微服务版

## 一、系统介绍

启航电商ERP系统是集订单处理、仓库管理、采购管理等全流程电商业务系统。支持多平台多店铺，包括淘宝、京东、拼多多、抖店、视频号。

主体功能包括：采购管理、订单管理（订单拉取、处理）、发货管理（电子面单打印、订单出库）、售后管理（补发、换货、退货处理）、商品管理、店铺管理、库存管理（出入库）等，基本上覆盖了电商网店管理日常业务。

采用SpringCloud微服务架构开发，后续将开放接口对接其他系统。

### 1.1 功能介绍

+ 采购管理：采购下单、采购入库、采购退货出库等。

+ 订单管理：支持手动添加订单，**支持网店订单API拉取**，目前支持的平台有：淘宝、京东、拼多多、抖店、视频号小店，后续计划继续支持快手、小红书等。

+ 发货管理：支持分配给仓库发货和分配给供应商发货。

+ 售后管理：支持手动添加售后单，**支持网店售后API拉取**。售后处理反馈（订单拦截、订单补发、订单退货、订单换货、订单退款等）。

+ 库存管理：仓库管理，仓库出入库明细管理。

+ 店铺管理：网店管理、网店参数设置、网店商品关联（**支持网店商品API拉取**）。

+ 商品管理：商品管理、商品属性管理、商品分类管理。

+ 系统设置：登录用户设置、系统设置等。

**基本上覆盖了电商网店管理日常业务，后续将开放接口对接其他系统。**

**订单打单（电子面单打印）已支持：淘宝、京东、拼多多、抖店、视频号**

本项目采用SpringCloudAlibaba微服务架构+Vue2+Element开发。


<img src="preview.png" />

### 1.2 其他版本


+ **1.2.1、电商ERP系统老版本**

`电商ERP系统`主要场景是处理电商业务的进销存整体流程。从采购到商品入库、再到订单出库、再到退换货处理等一系列涉及到仓库库存变化的全流程数据跟踪处理。

主要功能包括：采购下单、商品入库（库存批次）、网店订单API拉取、订单商品出库（先入先出法则）、网店售后拉取、售后处理（退货、换货、补发等库存类操作）等。

**订单发货支持添加赠品**

电商ERP系统侧重是对库存数据的全流程跟踪管理，做到库存追踪，数据可直接用于财务核算，所以对库存数据流有严谨的流程和规则。

[启航电商ERP更详细介绍](README-ERP.md)

+ **2、电商ERP-OMS订单处理版本（轻量级订单处理）**

`电商OMS系统`主要场景是店铺订单业务处理，包括：订单API拉取、电子面单打印、订单发货、售后API拉取、订单拦截、售后处理等，可以使用接口与ERP系统对接。

系统功能主要包括：店铺商品管理、店铺订单管理、店铺售后管理、电子面单打印等。

**目前支持：淘宝、京东、拼多多、抖店、微信视频号小店**，后续继续支持快手、小红书等。

[启航电商OMS更详细介绍](README-OMS.md)

+ **3、电商ERP-SCM供应链分销代发版本**

`电商SCM系统`主要场景是针对供应链厂家为分销渠道订单一件代发，电商SCM系统有两个后台：供应链厂家发货后台、分销终端订单管理后台。

**主要流程是分销终端推送订单到厂家后台，厂家进行统一打单发货。**

[启航电商SCM更详细介绍](README-SCM.md)


## 二、关键流程

### 2.1 关联商品SKU
```mermaid
graph TD
    A[添加ERP商品SKU信息] -->B(拉取店铺商品)
    B --> C[店铺商品SKU关联ERP商品SKU]
    C --> E(完成)
```


### 2.2 处理订单（发货）
```mermaid
graph TD
    A[店铺订单拉取] -->B(店铺订单推送到OMS订单中心)
    B --> C(后台任务:订单商品数据自动关联ERP系统SKU)
    C --> D[接口推送/手动推送:将订单推送给ERP系统-外部系统]
    D --> E[接收/手动录入ERP系统发货单号]
    E --> F[变更OMS订单状态 - 将发货信息推送给平台店铺]
    F --> G(完成)
```


### 2.3 处理售后

```mermaid
graph TD
    A[店铺退款拉取] -->B(店铺退款推送到OMS售后中心)
    B --> D[接口推送/手动推送:将订单推送给ERP系统-外部系统]
    D --> E[接收/手动录入ERP系统处理售后结果:补发/换货/退货]
    E --> F[变更OMS售后状态 - 将售后结果信息推送给平台店铺]
    F --> G(完成)
```


## 三、功能模块



## 四、软件架构
### 1、开发环境级组件
#### 1.1 开发环境
+ Jdk：17
+ Nodejs：v16.20.0

#### 1.2 项目组件
##### 后端核心组件
+ SpringBoot：3.0.2
  + spring-boot-starter-security
+ SpringCloud：2022.0.0
  + SpringCloud Gateway
  + Eureka

+ SpringCloudAlibaba：2022.0.0.0
  + Nacos


##### 前端框架及组件
+ vue2
+ element

#### 1.3、存储及中间件

+ MySQL8
+ Redis：7.x
+ Kafka
+ Nacos：2.2.0（配置中心、注册中心-弃用中）
+ Eureka(替换Nacos中)
+ Sentinel（分布式流量治理组件）

  `java -Dserver.port=8888 -Dcsp.sentinel.dashboard.server=localhost:8888 -Dproject.name=sentinel-dashboard -jar sentinel-dashboard.jar`


### 2、项目结构
#### 2.1 core
项目公共模块包括：

+ `common`:公共类型

+ `security`:公共权限验证模块

#### 2.2 gateway
网关项目，负责微服务接口转发，前端统一通过网关调用其他微服务接口；

采用`gateway`进行api分发，引入Sentinel进行流量治理。

#### 2.3 sys-api
项目系统微服务，主要功能包括：

+ 用户
+ 菜单

#### 2.4 oms-api
oms主功能微服务，主要功能包括：

+ 队列消息处理（订单消息、退款消息）
+ 订单接口
+ 退款接口
+ 店铺接口

#### 2.5 open-api
各开放平台微服务
##### 2.5.1 tao-api
淘宝开放平台接口api

##### 2.5.2 jd-api
京东开放平台接口api

##### 2.5.3 dou-api
抖店开放平台接口api

##### 2.5.4 pdd-api
拼多多开放平台接口api

##### 2.5.5 wei-api
微信视频号小店开放平台接口api


##### 2.5.6 kwai-api
快手小店开放平台接口api


### 3、运行说明
#### 3.1、启动环境

1. 启动MySQL8
2. 启动Redis7
3. 启动Sentinel1.8.7控制台
4. 启动Nacos2.2.0
5. 启动Kafka

#### 3.2、导入数据库
+ 创建数据库`qihang-erp`
  + 1、导入数据库结构：sql脚本`docs\qihang-erp.sql`
  + 2、导入系统数据：sql脚本`docs\qihang-erp-sys.sql`

#### 3.3、启动服务(项目)
1.  启动开放平台业务微服务（tao-api、jd-api、dou-api、pdd-api等平台接口api微服务）
2.  启动sys-api、oms-api微服务
3.  启动微服务网关（api）

#### 3.4、运行前端
+ Nodejs版本：v16.20.0
+ 进入`vue`文件夹
+ 运行`npm install` 
+ 运行`npm run dev`
+ 浏览网页`http://localhost`

### 4、项目部署

#### 4.1 打包

##### 后端打包
`mvn clean package`

##### 前端打包
`pnpm run build:prod`


#### 4.2 Nginx配置
```
# 上传文件至远程服务器
将打包生成在 `dist` 目录下的文件拷贝至 `/usr/share/nginx/html` 目录

# nginx.cofig 配置
server {
	listen     80;
	server_name  localhost;
	location / {
			root /usr/share/nginx/html;
			index index.html index.htm;
	}
	# 反向代理配置
	location /prod-api/ {
			proxy_pass http://127.0.0.1:8080/; # 替换成你的后端网关API地址
	}
}
```


## 五、获取一键演示包

启航电商ERP系统自从开源以来，收到很多兄弟们的关注，也很多兄弟们想看演示效果，由于项目是非商业化的没有财力去支撑演示环境服务器，为了满足兄弟们想看系统演示，作者特地制作了一个一键演示包，获取之后直接在Windows电脑中即可运行。

[一键演示包获取地址](https://mp.weixin.qq.com/s?__biz=MjM5MTM1ODg0Mg==&mid=2447551448&idx=1&sn=53aab9a0123caf912cc89accb5fb226d&chksm=b2a0c1cd85d748dbde1eb7d511e3933d0ebd9df7d4e8f35e4d3eba7624ab5264f10900845b11&payreadticket=HKl0eiGUReMt0NYHRj2hUZS-ANiV_oN0p8XIfKxeIqVs2ZdYE1Rts-9YlN7uXwEWnLcq2H4#rd)


## 六、支持作者

**感谢大家的关注与支持！希望利用本人从事电商10余年的经验帮助到大家提升工作效率！**

💖 如果觉得有用记得点 Star⭐


### 1、有偿服务
+ 提供部署服务
+ 提供演示包服务
+ 提供定制化开发服务
+ 提供系统培训服务
+ 提供版本商业化支持服务
+ 提供电商系统软著代申请服务（文档、源代码）
+ 提供电商平台appkey申请协助服务

### 2、更多服务

更多服务，请关注作者微信公众号：qihangerp168

<img src="公众号.jpg" width="300px" />


💖 欢迎一起交流！

### 3、捐助支持
作者为兼职做开源,平时还需要工作,如果帮到了您可以请作者吃个盒饭

<img src="weixinzhifu.jpg" width="300px" />
<img src="zhifubao.jpg" width="300px" />




